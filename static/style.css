/* ===== Base ===== */
:root{
  --bg:#0b0d10;
  --panel:#12161b;
  --muted:#7a8699;
  --border:#1f2630;
  --text:#e6eef8;
  --accent:#5aa7ff;
  --accent-2:#7effc5;
  --table-head:#151b22;
  --table-row:#0f1317;
  --table-row-alt:#10161c;
  --row-hover:#1a2230;
  --good:#7effc5;
  --warn:#ffd166;
  --bad:#ff6b6b;
  --radius:14px;
  --shadow:0 8px 24px rgba(0,0,0,.35);

  /* Chart sizing + fonts */
  --chart-max: 860px;
  --chart-font: 14px;
  --chart-degree-font: 12px;
  --chart-sign-font: 14px;
  --chart-font-family: ui-sans-serif, system-ui, "Noto Sans", Arial, Helvetica, sans-serif;
}

/* 固定表單分成兩行：第一行 5 欄 */
#form{
  display:grid;
  grid-template-columns: repeat(5, minmax(110px,1fr)) !important;
}

/* 第二行配置：制度 1 欄、出生地 2 欄、按鈕 1 欄、狀態 1 欄 */
#form > label:nth-of-type(7){ grid-column: span 2; }  /* 出生地 */
#calc{ justify-self:start; }                           /* 按鈕左對齊 */
#status{ white-space:nowrap; }                         /* 狀態不換行 */

/* 表單文字不換行 */
#form label {
  white-space: nowrap;
}

/* 選單縮短一點 */
#form select,
#form input {
  max-width: 150px;   /* 你可以調成 90px 或 80px，看版面 */
}

#form label,
#form select,
#form input,
#form button,
#form span {
  font-size: 18px !important;   /* 你可以改成 13px 或 15px */
  font-weight: 500 !important;
}

/* Meta 區塊字體大小 */
#meta {
  font-size: 18px;   /* 你可以改成 13px 或 15px */
  line-height: 1.6;
}
#meta b {
  font-size: 18px;   /* 粗體標籤字 */
}
#meta span {
  font-size: 18px;   /* 後面的值字 */
}


*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:16px;
  background:linear-gradient(180deg,#0a0c10, #0b0d10 40%, #0a0c10);
  color:var(--text);
  font:15px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Noto Sans",sans-serif;
}

header{display:flex;justify-content:space-between;align-items:center;margin:8px 0 16px}
h1{font-size:30px;margin:0;color:#fff;letter-spacing:.3px}
h2{font-size:25px;margin:18px 0 10px;color:#cfe3ff;font-weight:600}
a{color:var(--accent)}

/* ===== Cards / Panels ===== */
section{
  background:var(--panel);
  border:1px solid var(--border);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:14px;
  margin:12px 0;
}

/* ===== Form ===== */
#form{
  display:grid;
  grid-template-columns: repeat(6, minmax(110px,1fr)) 1fr 120px;
  gap:10px 12px;
  align-items:center;
}
#form label{display:flex;gap:8px;align-items:center;color:#c9d6ea;font-size:14px}

#form input, #form select{
  width:100%;
  background:#0e1216;
  color:var(--text);
  border:1px solid var(--border);
  border-radius:10px;
  padding:8px 10px;
  outline:none;
  transition:border .15s ease, box-shadow .15s ease;
}
#form input:focus, #form select:focus{
  border-color:var(--accent);
  box-shadow:0 0 0 3px rgba(90,167,255,.15);
}
#calc{
  appearance:none;
  border:0;
  border-radius:12px;
  padding:10px 14px;
  font-weight:600;
  background:linear-gradient(135deg,var(--accent),#7aa8ff 60%);
  color:#081019;
  cursor:pointer;
  transition:transform .06s ease, filter .2s ease;
}
#calc:hover{filter:brightness(1.05)}
#calc:active{transform:translateY(1px)}
#status{margin-left:8px;color:var(--muted)}

/* ===== Meta ===== */
#meta b{color:#cfe3ff}
#meta span{color:#cbd6e8}

/* ===== Chart ===== */
#chart{padding:10px}
#paper{
  width:100%;
  max-width:var(--chart-max);
  aspect-ratio:1/1;
  min-height:0;
  margin:0 auto;
  background:#0d1116;
  border:1px dashed var(--border);
  border-radius:16px;
  display:flex;align-items:center;justify-content:center;
}

/* Force AstroChart SVG text sizes */
#paper svg text{
  font-size: var(--chart-font) !important;
  font-family: var(--chart-font-family) !important;
}
#paper svg .degree,
#paper svg .cusp-degree,
#paper svg [class*="degree"]{
  font-size: var(--chart-degree-font) !important;
}
#paper svg .sign,
#paper svg .zodiac,
#paper svg .planet,
#paper svg [class*="label"]{
  font-size: var(--chart-sign-font) !important;
}

/* ===== Tables ===== */
.tbl{
  width:100%;
  border-collapse:separate;
  border-spacing:0;
  overflow:hidden;
  border:1px solid var(--border);
  border-radius:12px;
}
.tbl thead th{
  position:sticky; top:0;
  background:linear-gradient(180deg,var(--table-head), #111821);
  text-align:left;
  font-size:22px;
  font-weight:700;
  color:#b9c8de;
  letter-spacing:.3px;
  padding:10px 12px;
  border-bottom:1px solid var(--border);
  white-space:nowrap;
}
.tbl tbody td{
  padding:10px 12px;
  font-size:18px;
  font-weight:600; 
  border-bottom:1px solid #131a22;
  color:#e4edf7;
  vertical-align:top;
}
.tbl tbody tr:nth-child(even){ background:var(--table-row-alt) }
.tbl tbody tr:nth-child(odd){ background:var(--table-row) }
.tbl tbody tr:hover{ background:var(--row-hover) }

/* Tight numeric cells */
.tbl td.num, .tbl th.num{ text-align:right; font-variant-numeric:tabular-nums }

/* Wrap long text nicely */
.tbl td{ word-break:break-word }

/* ===== Grid layout ===== */
.grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:14px;
  align-items: stretch;  /* 讓兩邊 section 等高 */
}

/* ===== Specific tweaks ===== */
#houses_rows td:nth-child(3){ color:#cfe3ff; opacity:.95 } /* 宮位意涵欄 */
#positions_rows td:nth-child(1){
  font-size:18px;
  line-height:1;
  text-align:center;
  filter:drop-shadow(0 1px 0 rgba(0,0,0,.35));
  width:56px;
}
#positions_rows td:nth-child(3){
  font-variant-numeric:tabular-nums;
  letter-spacing:.2px;
}

/* ===== Responsive ===== */
@media (max-width: 980px){
  #form{
    grid-template-columns: repeat(2, minmax(140px,1fr));
    grid-auto-rows:auto;
  }
  .grid{ grid-template-columns:1fr }
}

#paper { background: #fff !important; }
#paper svg { background: #fff !important; }

/* 相位表第三欄標題後加上 (°) */
#aspects_rows thead th:nth-child(3)::after { content: " (°)"; }

.md { line-height: 1.75; 
      color: #e7effa; 
      font-size: 18px !important;  }
.md h3 { margin: 10px 0 6px; color:#cfe3ff; }
.md ul { padding-left: 1.2em; }
.md li { margin: 4px 0; }
.md.small { font-size: 18px; color:#c9d6ea; }